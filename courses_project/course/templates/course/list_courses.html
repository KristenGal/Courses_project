{% extends 'base.html' %}

{% block content %}

<div class="container px-4 px-lg-5 mt-5">
    <form class="d-flex" role="search">
        <input class="form-control me-2" name="title" value="{{ request.GET.title }}" type="search"
            placeholder="Search..." aria-label="Search">
        <button class="btn btn-outline-success" type="submit">Search</button>
    </form>
    <div class="row gx-4 gx-lg-5 row-cols-1 row-cols-md-2 row-cols-xl-3 mt-4 justify-content-center">
        {% for course in courses %}
        <div class="col mb-5">
            <div class="card h-100">
                <!-- Product image-->
                <img class="card-img-top" src="{{course.image_url}}" alt="image for {{course.title}}" />
                <!-- Product details-->
                <div class="card-body p-4">
                    <div class="text-center">
                        <!-- Product duration-->
                        <h5 class="fw-bolder">{{cousre.duration}}</h5>
                        <!-- Product title-->
                        <h5 class="fw-bolder">{{course.title}}</h5>
                        <!-- Product description-->
                        {{course.description}}
                        <!-- Product rating-->
                        <p>
                            {% for _ in "x"|ljust:course.rate %}
                            ⭐
                            {% endfor %}
                            ({{ course.rate }}/10)
                        </p>
                        <!-- Product price-->
                        <h5 class="d-flex justify-content-center small text-primary mb-2">{{course.price}} $</h5>
                    </div>
                </div>
                <!-- Product actions-->
                <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                    <div class="text-center">
                        <a class="btn btn-outline-primary mt-auto" href="{% url 'course:course_detail' course.id %}">More</a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<div class="pagination d-flex justify-content-center mt-4">
    <ul class="pagination">
        {% if courses.has_previous %}
        <li class="page-item">
            <a class="page-link" href="{% querystring page=courses.previous_page_number %}">Previous</a>
        </li>
        {% else %}
        <li class="page-item disabled">
            <span class="page-link">Previous</span>
        </li>
        {% endif %}

        {% for num in elided_page_range %}
        {% if num == "…" %}
        <li class="page-item disabled">
            <span class="page-link">...</span>
        </li>
        {% else %}
        <li class="page-item {% if num == courses.number %}active{% endif %}">
            <a class="page-link" href="{% querystring page=num %}">{{ num }}</a>
        </li>
        {% endif %}
        {% endfor %}

        {% if courses.has_next %}
        <li class="page-item">
            <a class="page-link" href="{% querystring page=courses.next_page_number %}">Next</a>
        </li>
        {% else %}
        <li class="page-item disabled">
            <span class="page-link">Next</span>
        </li>
        {% endif %}
    </ul>
</div>

{% endblock %}